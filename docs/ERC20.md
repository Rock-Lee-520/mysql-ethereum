
### 一、常量：
自2015年提出ERC以太，ERC20代币合约标准在以太坊开发社区的协商下逐步确定为11个标准的接口，这一标准的出现为2017年以太坊合约代币井喷式发展打下了基础。ERC20标准接口总共可分为三类：常量、功能函数以及事件，本节将按照分类对各个接口进行逐一介绍。
#### 1、代币名称
代币名称(name)是由代币合约创建者指定的完整名称，是一串公开的字符串常量，如CarToken。尽管在以太坊上，代币名称是由各代币合约各自指定，无法保证一个代币名唯一标识一种特定对的合约代币，但在代币交易所种，符合ERC20标准的代币可以向交易所提供代币名称进行注册，交易所通过注册机制可以检查并保证代币名称与代币合约一一对应，实现类似于ENS的效果

#### 2、代币符号
代币符号(symbol)是由代币合约创建者指定的代币简称，是一串公开的字符串常量，一般由3～4个大写字母组成，便于识别该代币，如EXT,与代币名称相同，符合ERC20标准的代币可以通过在各交易所中注册，使其代币符号能够唯一标识该代币合约。
#### 3、小数位
小数点位(decimals) 是由代币合约创建者指定的一个公开的无符号整数常量，用于指定代币的最小精度值，一般为18。小数点位的数值表示该代币在交易中最小单位在小数点后的位数，比如18表示该代币在交易中的最小单位有18位小数。实际上，之所以也要引入这一常量，是因为以太坊虚拟机不支持小数计算，智能合约代码中涉及小数的数值只能先转后为整数后再进行计算。代币合约中设置最小精度值后，合约代码中的数值计算便可以先乘10的小数点位次乘方转换为整数，再送入EVM进行计算，最终结果还原为小数,确保了合约中的数值计算的精准性。
另外，需要指出的是，由于以太坊本身的小数点位设置为18,因此符合ERC20标准的代币一般将小数点位设置为18。尽管如此，小数点位仍可以根据实际需求进行调整。当代币的数额计算中要求更高精确度时，小数点位可以设置得更高。当数字资产用于表示一些无法分割的实际物品，如软件证书时，代币的最小单位应为1，此时小数点位应设为0.

### 二、功能函数
函数功能保护总供应量，余额，转账，从他人处转账，允许量值以及限额6个功能函数，分别规定了实现代币合约所必须的查询、转账、权限控制等基本功能的函数接口。
#### 1、总供应量
总供应量totalSupply() 函数用于查看代币当前的总供应量，既当前合约账本中所有账户地址余额的总和。该函数没有输入参数，返回值为无符号整数常量。
#### 2、余额
余额balanceOf()函数用于查看当前合约中指定账户的代币余额。该函数的输入参数为账户地址，返回值为账户代币余额，为无符号整数常量。
#### 3、转账
转账transfer() 函数用于从当前账户向其它账户进行代币转账。该函数的输入参数为目标账户地址和转账的代币数额，返回值为布尔型变量。当账户满足当前有足够的余额、转账数额为正数以及合约编写者指定的其他条件时，转账成功，则合约中当前账户的余额减少，目标账户的余额增加，函数返回值为真；否则转账失败，函数返回值为假。
#### 4、从他人处转账
从他人处转账transferFrom() 函数用于从他人账户向其他账户进行代币转账。在有些情况下，用户不仅可以使用transfer(）函数自己发起转账，还可以授权他人在一定限额喜爱调研transferFrom()函数从自己账户中转出代币，而无须自己介入。例如，在一个银行合约中，由于合约无法控制用户的行为，不能命令用户使用transfer()发起转账，而无须通知用户参与。该函数的输入参数为转账的发起地址、目标地址以及转账数额。与transfer()函数一样，当转账成功时返回值为真，转账失败则返回为假。

#### 5、允许量值
允许量值approve()函数用于设定当前账户对指定账户的允许转账量值（allowed）。该函数的输入参数为代币使用方地址和允许使用的额度，返回值为设置是否成功的布尔型变量。ERC20标准为了满足更广泛的需求，提供了transferFrom()接口。为了账户更方便地管理自己的账户余额，必须对其他人从本账户中转走的代币数额进行限制，于是ERC20标准引入了允许量值allowed。allowed是一个二元组，allowed[A][B]记录的是用户A对本质户中允许账户B转走的代币额度。用户A通过调用approve()函数并指定账户B和允许额度，对allowed[A][B]进行设置;当账户B调研transferFrom()函数从账户A中转出代币时，需先通过检查，确保转出的数额不超过账户A设置的allowed[A][B]值，并且转账之后allowed[A][B]值会减少相应的数额
#### 6、限额
限额allowance()函数用于查看当前的allowed值。该函数的输入参数为代币持有方A的地址和代币使用方B的地址，返回值为当前在账户A中允许账户B转出的代币数额allowed[A][B],为无符号整形常量。
### 三、事件
智能合约中还包括了记录事件的event类型接口，ERC20合约标准也对代币合约基本的事件接口进行了规范。ERC20标准要求代币合约包含至少两个事件：转账（Transfer）和允许（approval）

#### 1、转账
Transfer()事件用于记录代币合约最基本的功能---转账。事件的输入参数为转账的发起方、接收方以及转账的代币金额，一般位于transfer()函数和transferFrom()函数中转账成功之后触发。用户可以从交易收据(receipt)中查看每一笔代币转账的相关信息。

#### 2、允许
Approval()事件用于记录代币合约的进阶功能---允许他人从本账户中转出代币。事件的输入是代币的持有者、使用者以及所设置的允许金额，一般位于approve()的函数中，设置允许限额成功之后触发。用户可以从交易收据(receipt)中查看代币持有者对他人设置的允许转账限额等相关信息。

###### 参考自以太坊技术与实战书籍